(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{16:function(e,t,c){},38:function(e,t,c){},40:function(e,t,c){},41:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c.n(n),r=c(4),o=c.n(r),i=(c(16),c(9)),s=c(3),l=c(11),u=c.n(l),j=(c(37),c(5)),m=(c(10),c(38),c(1));function b(e){var t=e.onSubmit,c=Object(n.useState)(""),a=Object(s.a)(c,2),r=a[0],o=a[1];return Object(m.jsx)("header",{className:"Searchbar",children:Object(m.jsxs)("form",{className:"SearchForm",onSubmit:function(e){e.preventDefault(),""!==r.trim()?(t(r),o("")):j.b.error("Enter a name for the picture!")},children:[Object(m.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(m.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(m.jsx)("input",{className:"SearchForm-input",type:"text",name:"imageName",placeholder:"Search images and photos",value:r,onChange:function(e){return o(e.currentTarget.value.toLowerCase())}})]})})}var h=function(e){var t=e.onClick;return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("button",{className:"Button",onClick:t,children:"Load more"})})},d=function(e){var t=e.image,c=e.largeImg,n=t.webformatURL,a=t.tags;return Object(m.jsx)("li",{onClick:c,className:"ImageGalleryItem",children:Object(m.jsx)("img",{src:n,alt:a,className:"ImageGalleryItem-image"})})};function O(e){var t=e.images,c=e.largeImg;return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("ul",{className:"ImageGallery",children:t.map((function(e){return Object(m.jsx)(d,{image:e,largeImg:function(){c(e.largeImageURL)}},e.id)}))})})}var f=c.p+"static/media/Cat-cry.554e214c.jpg",g=(c(40),function(e){var t=e.message;return Object(m.jsxs)("div",{role:"alert",className:"image-error",children:[Object(m.jsx)("img",{src:f,width:"240",alt:"Cat-cry"}),Object(m.jsx)("p",{children:t})]})}),p=document.querySelector("#modal-root"),x=function(e){Object(n.useEffect)((function(){window.addEventListener("keydown",t),console.log("Modal")}));var t=function(t){"Escape"===t.code&&e.onClose()};return Object(r.createPortal)(Object(m.jsx)("div",{className:"Overlay",onClick:function(t){t.target===t.currentTarget&&e.onClose()},children:Object(m.jsx)("div",{className:"Modal",children:e.children})}),p)};var v={fetchImage:function(e,t){return fetch("".concat("https://pixabay.com/api","/?q=").concat(e,"&page=").concat(t,"&key=").concat("21988624-a694c57feb3b9caad270c2fa0","&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){if(e.ok)return e.json().then((function(e){return e.hits}))}))}},S="idle",y="pending",N="resolved",w="rejected";function C(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)([]),o=Object(s.a)(r,2),l=o[0],d=o[1],f=Object(n.useState)(null),p=Object(s.a)(f,2),C=p[0],k=p[1],I=Object(n.useState)(null),F=Object(s.a)(I,2),E=F[0],L=F[1],T=Object(n.useState)(1),B=Object(s.a)(T,2),G=B[0],M=B[1],q=Object(n.useState)(S),J=Object(s.a)(q,2),P=J[0],R=J[1],U=Object(n.useState)(""),_=Object(s.a)(U,2),z=_[0],A=_[1],D=Object(n.useCallback)((function(){v.fetchImage(z,G).then((function(e){a(""),R(N),d((function(t){return[].concat(Object(i.a)(t),Object(i.a)(e))})),M((function(e){return e+1})),e.length?k(null):(k("  No picture with name :  ".concat(c)),R(w))})).catch((function(e){k(" No picture with name :  ".concat(c)),R(w)})).finally((function(){H()}))}),[R,k,d,c,G,z]);Object(n.useEffect)((function(){c&&(R(y),A(c),c===z&&D(c,G))}),[c,D,G,z]);var H=function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})};return Object(m.jsxs)("div",{className:"App",children:[Object(m.jsx)(b,{onSubmit:function(e){e!==z?(a(e),d([]),M(1)):j.b.error("This text has already been found!")}}),Object(m.jsx)(j.a,{autoClose:3e3}),P===S?Object(m.jsx)("div",{children:"Enter a name for the picture"}):null,P===y?Object(m.jsx)(u.a,{type:"Puff",color:"#00BFFF",height:100,width:100,timeout:3e3}):null,P===w?Object(m.jsx)(g,{message:C}):null,P===N?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(O,{images:l,largeImg:function(e){return L(e)}}),Object(m.jsx)(h,{onClick:D})]}):null,E&&Object(m.jsx)(x,{onClose:function(){L(null)},children:Object(m.jsx)("img",{src:E,alt:""})})]})}o.a.render(Object(m.jsx)(a.a.StrictMode,{children:Object(m.jsx)(C,{})}),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.08a94ae1.chunk.js.map